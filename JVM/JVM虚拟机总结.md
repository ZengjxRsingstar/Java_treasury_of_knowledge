#### 1.JVM三大性能调优参数，JVM 几个重要的参数

#### 2.JVM调优

#### 3.JVM内存管理，JVM的常见的垃圾收集器，Ｇ１垃圾收集器。GC调优，Minor GC ，Full GC 触发条件

#### 4.Java内存模型 2020知乎

#### 5.Java垃圾回收机制

#### 6.描述JVM中一次Full gc过程

#### 7.Java 中都有哪些引用类型？

#### 8.JVM中类加载机制，类加载过程，什么是双亲委派模型？，类加载器有哪些

#### 9.如何判断是否有内存泄露？定位 Full GC 发生的原因，有哪些方式？

### 10.常见GC收集器 知乎（ 探探 & 知乎后端社招面经   https://www.nowcoder.com/discuss/351092    

### 有问项目，二面三面一般问项目多些，也看公司和岗位）

### 11.有哪些GCRoot

### 12.分代收集是怎么做的。为什么要使用分代收集

### 13.有这样一个场景： 在一个系统中发现CPU飙升到100%，服务一直在运行。如何进行分析

### 14.垃圾回收  （2020字节）

### 15.生产怎么具体分析问题

比如有个对账项目代码有个bug,循环10000次执行了一条sql查询，每次查出来5万条，发生问题时只看到生产对账系统Zabbix报警，cpu占用率超过90%。假设代码肉眼又看不出来bug.怎么一步步分析，面试官想听整个过程，发现问题-分析可能原因-用什么工具追逐排除问题-怎么发现最终问题。

 **1.监控GC状态**

使用各种JVM 工具，查看当前日志分析jvm 参数设置，并且分析当前堆内存快照和GC日志，根据实际的各个区域内存划分和GC执行时间，觉得是否进行优化。

例子：系统崩溃前额的一些现象。

每次垃圾回收的时间越来越长，由之前的10ms延长到50ms左右，FullGC的时间也由之前的0.5s延长到4、5s，FullGC的次数越来越多，最频繁时间隔到1分钟就进行一次FullGC老年代的内存越来越大，并且每次FullGC后老年代没有内存释放，之后系统无法响应新的请求。逐渐达到OutOfMemoryError的临界值，这个时候就要分析内存快照dump.

**2.生成堆文件**

通过JMX的MBean 生成当前的Heap信息，大小为一个3G(一个堆的大小)

hprof文件，如果没有启动JMX可以通过Java的jmap 命令来生成该文件。

**3.分析dump 文件**

打开这个3G 的堆文件，显然一般的Window系统没有这么大的内存，必须借助高配置的Linux,几种工具打开该文件：

Visual VM 

IBM  HeapAnalyzer

JDK自带的Hprof工具

Mat (Eclipse 专门的静态内存分析工具)文件太大建议用专门的Eclispe专门的静态内存分析工具Mat 打开分析。

**4.分析结果，判断是否需要优化**

如果各项参数配置合理，系统没有超市日志出现，GC频率不高，GC耗时不高，那么没有必要进行GC优化，如果GC时间超过1-3秒，或频繁GC,则必须优化。

**5.调整GC类型和内存分配**

如果内存分配过小或过大，或者采用GC收集器比较慢，则应该优先调整这些参数，并且先找一台或几台进行beta ,然后比较优化过的和没有优化的机器进行性能对比，并且有正对性的做出最后的选择。

**6.不断的分析和调整**

通过不断的试验和试错，分析并且找到最合适的参数，如果找到了最合适的参数，则将这些参数引用到所有服务器。

一般遇到问题就是打出当时线程信息生成dump然后查看异常代码。